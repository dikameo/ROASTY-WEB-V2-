<!DOCTYPE html>
<html lang="id">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Roasty - Beranda</title>
    
    <link rel="preconnect" href="https://fonts.gstatic.com/" crossorigin="" />
    <link
      rel="stylesheet"
      as="style"
      onload="this.rel='stylesheet'"
      href="https://fonts.googleapis.com/css2?display=swap&family=Epilogue%3Awght%40400%3B500%3B700%3B900&family=Noto+Sans%3Awght%40400%3B500%3B700%3B900"
    />
    <link rel="icon" type="image/x-icon" href="data:image/x-icon;base64," />
    <script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>
  </head>
  <body>
    <div class="relative flex h-auto min-h-screen w-full flex-col bg-white group/design-root overflow-x-hidden" style='font-family: Epilogue, "Noto Sans", sans-serif;'>
      <div class="layout-container flex h-full grow flex-col">
        
        <header class="flex items-center justify-between whitespace-nowrap border-b border-solid border-b-[#f4f2f0] px-10 py-3">
          <a href="index.html" class="flex items-center gap-4 text-[#181411]">
            <div class="size-4">
              <svg viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M42.4379 44C42.4379 44 36.0744 33.9038 41.1692 24C46.8624 12.9336 42.2078 4 42.2078 4L7.01134 4C7.01134 4 11.6577 12.932 5.96912 23.9969C0.876273 33.9029 7.27094 44 7.27094 44L42.4379 44Z" fill="currentColor"></path>
              </svg>
            </div>
            <h2 class="text-[#181411] text-lg font-bold leading-tight tracking-[-0.015em]">Roasty</h2>
          </a>
        
          <div class="flex flex-1 justify-end gap-8">
            <div class="flex items-center gap-9">
              <a class="text-[#181411] text-sm font-medium leading-normal" href="index.html">Beranda</a>
              <a class="text-[#181411] text-sm font-medium leading-normal" href="toko.html">Toko</a>
              <a class="text-[#181411] text-sm font-medium leading-normal" href="kursus.html">Kelas</a>
              <a class="text-[#181411] text-sm font-medium leading-normal" href="tentang-kami.html">Tentang Kami</a>
            </div>
            <div class="flex gap-2">
              <button
                class="flex max-w-[480px] cursor-pointer items-center justify-center overflow-hidden rounded-lg h-10 bg-[#f4f2f0] text-[#181411] gap-2 text-sm font-bold leading-normal tracking-[0.015em] min-w-0 px-2.5">
                <div class="text-[#181411]" data-icon="MagnifyingGlass" data-size="20px" data-weight="regular">
                  <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" fill="currentColor" viewBox="0 0 256 256">
                    <path
                      d="M229.66,218.34l-50.07-50.06a88.11,88.11,0,1,0-11.31,11.31l50.06,50.07a8,8,0,0,0,11.32-11.32ZM40,112a72,72,0,1,1,72,72A72.08,72.08,0,0,1,40,112Z">
                    </path>
                  </svg>
                </div>
              </button>
            
              <a href="keranjang.html"
                class="flex max-w-[480px] cursor-pointer items-center justify-center overflow-hidden rounded-lg h-10 bg-[#f4f2f0] text-[#181411] gap-2 text-sm font-bold leading-normal tracking-[0.015em] min-w-0 px-2.5">
                <div class="text-[#181411]" data-icon="ShoppingBag" data-size="20px" data-weight="regular">
                  <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" fill="currentColor" viewBox="0 0 256 256">
                    <path
                      d="M216,40H40A16,16,0,0,0,24,56V200a16,16,0,0,0,16,16H216a16,16,0,0,0,16-16V56A16,16,0,0,0,216,40Zm0,160H40V56H216V200ZM176,88a48,48,0,0,1-96,0,8,8,0,0,1,16,0,32,32,0,0,0,64,0,8,8,0,0,1,16,0Z">
                    </path>
                  </svg>
                </div>
              </a>
            </div>
        
            <div class="relative group">
            
              <!-- FOTO PROFIL (BOLEH DIKLIK) -->
              <a href="profile.html">
                <img
                  id="profileAvatar"
                  src="https://via.placeholder.com/40"
                  class="w-10 h-10 rounded-full cursor-pointer transition duration-200
                  hover:ring-2 hover:ring-[#a47148] hover:ring-offset-2" />
              </a>
            
              <!-- DROPDOWN (MUNCUL SAAT HOVER AREA INI) -->
              <div class="absolute right-0 top-12 w-48 bg-white rounded-xl shadow-lg
                          border border-[#eee6df] p-3 hidden group-hover:block z-50">
            
                <p id="profileName" class="text-sm font-semibold text-gray-700">Akun Saya</p>
            
                <div class="mt-3 space-y-2 text-sm">
                  <a href="profile.html" class="block py-1 hover:text-[#a47148]">Profil</a>
                  <a href="keranjang.html" class="block py-1 hover:text-[#a47148]">Pesanan Saya</a>
                </div>
            
                <hr class="my-3 border-[#f0e8df]" />
            
                <button id="logoutButton" class="w-full text-left text-sm text-red-600 hover:text-red-700">
                  Keluar
                </button>
            
              </div>
            
            </div>
            
        </header>

        <main class="px-40 flex flex-1 justify-center py-5">
          <div class="layout-content-container flex flex-col max-w-[960px] flex-1">
            
            <div class="@container">
              <div class="@[480px]:p-4">
                <div
                  class="flex min-h-[480px] flex-col gap-6 bg-cover bg-center bg-no-repeat @[480px]:gap-8 @[480px]:rounded-lg items-center justify-center p-4"
                  style='background-image: linear-gradient(rgba(0, 0, 0, 0.1) 0%, rgba(0, 0, 0, 0.4) 100%), url("https://lh3.googleusercontent.com/aida-public/AB6AXuDC3mlV3d2q6nh6qcY2yN3h-YI1OmJ2LsOEEKENG9_ZPqIVijM5EQwW6jOfcsNS5LlQtq0j3bs0aSzpRMpbUmxeIl28Fh9CzSzsO6tEt2j7DMykAfnt9ebNjgl8lHvBvZkApNgCTIj6HAeBRL53x_bkFdB7vqTofFMftMKYGJ_beYufEbZFdudMTI4rcMe05WdKCskDicJy8uxObphEbh2sl2Qm4PdcUPF2N2Rq4tGSVqp7R6CbIx-BAJs7N6w9iFw54jUrvyJdSS8");'
                >
                  <div class="flex flex-col gap-2 text-center">
                    <h1 class="text-white text-4xl font-black leading-tight tracking-[-0.033em] @[480px]:text-5xl @[480px]:font-black @[480px]:leading-tight @[480px]:tracking-[-0.033em]">
                      Discover Your Perfect Brew
                    </h1>
                    <h2 class="text-white text-sm font-normal leading-normal @[480px]:text-base @[480px]:font-normal @[480px]:leading-normal">
                      Explore our curated selection of premium coffee beans, brewing equipment, and expert-led classes.
                    </h2>
                  </div>
                  <a href="toko.html"
                    class="flex min-w-[84px] max-w-[480px] cursor-pointer items-center justify-center overflow-hidden rounded-lg h-10 px-4 @[480px]:h-12 @[480px]:px-5 bg-[#d46c11] text-white text-sm font-bold leading-normal tracking-[0.015em] @[480px]:text-base @[480px]:font-bold @[480px]:leading-normal @[480px]:tracking-[0.015em]"
                  >
                    <span class="truncate">Shop Now</span>
                  </a>
                </div>
              </div>
            </div>

            <h2 class="text-[#181411] text-[22px] font-bold leading-tight tracking-[-0.015em] px-4 pb-3 pt-5">Featured Coffee Beans</h2>
            <div class="flex overflow-y-auto [-ms-scrollbar-style:none] [scrollbar-width:none] [&::-webkit-scrollbar]:hidden">
              <div class="flex items-stretch p-4 gap-3">
                <div class="flex h-full flex-1 flex-col gap-4 rounded-lg min-w-60">
                  <div class="w-full bg-center bg-no-repeat aspect-square bg-cover rounded-lg flex flex-col" style='background-image: url("https://lh3.googleusercontent.com/aida-public/AB6AXuCoPhgqvBXGMNkGKvrtg0Kyxnt0G1_yGuepCm2W_WIDCh6IIaqxJP4AtxlHVAdPyzETk-MJdunHn92Kw9GBS9sYplDCC2vae380lWXVUDkGIFbg40g2wsiTDJcwBtLO_SKDeHlfH0DTnG5u29H6typEiJqOR8wvUgqoJ7GXxasolxgzLdURpkRsa31u5ZqylbSJv8a2QUnvSUNhPXH8G9OebwiNgOcGl8V-NszJ-fxs9HgWJZqUQmRXX9QMhH1eBOVkG82zGpQAieA");'></div>
                  <div>
                    <p class="text-[#181411] text-base font-medium leading-normal">Artisan Coffee Beans</p>
                    <p class="text-[#897461] text-sm font-normal leading-normal">Explore our range of single-origin and blended coffee beans, roasted to perfection.</p>
                  </div>
                </div>
                <div class="flex h-full flex-1 flex-col gap-4 rounded-lg min-w-60">
                  <div class="w-full bg-center bg-no-repeat aspect-square bg-cover rounded-lg flex flex-col" style='background-image: url("https://lh3.googleusercontent.com/aida-public/AB6AXuDMVKfZci5Mr1xgNeXxzUY5vDIB1_vPNwDLJr0M-Uz4zFDJHPh6zczFOto1tTJKcdqnan-qSVkaWUQc2vAvnFirhm-h2Qo_90GC6uXET25GeLFrFlNS2JNvms3kn8qllbxpCVmxNd-fltEwKoZlzrbVPnpjxHfdk4Ejf2BI8klb9RglTxsVu-i1MJ-X5JUWSdgJvR1cc6Mx7II6lDV_isRuS3kEw8-2cyXj9_a6emS_AsYDjTFhowM77_gpA0PH-V10fdMcoMHPmq4");'></div>
                  <div>
                    <p class="text-[#181411] text-base font-medium leading-normal">Premium Brewing Equipment</p>
                    <p class="text-[#897461] text-sm font-normal leading-normal">Elevate your brewing experience with our selection of high-quality pour-over sets, French presses, and more.</p>
                  </div>
                </div>
                <div class="flex h-full flex-1 flex-col gap-4 rounded-lg min-w-60">
                  <div class="w-full bg-center bg-no-repeat aspect-square bg-cover rounded-lg flex flex-col" style='background-image: url("https://lh3.googleusercontent.com/aida-public/AB6AXuAINRH-sILmddbIrGQrd02Ahb6SYCiMNRk_U-9tE3pz4lbAB7jmZa39DGsx64IulSwtgFR-JJ5ltT10nGp_dFTUYO_L6pC1Mz7xy0qdTd-Xr6zaiHqVgkZUuupylMWaM9zlRQeShJUFroRwZ2b7dFqMbiS5DLS4KiAObIR0oOUXVApzl2pjzE-vP6UrG_ZZiPspw1bdbJI9xKaFTHotPRR9bfhHmZqu1IJkBGJT1AWwqHjotbj4ae4O3QmrD2_qfR4rAzcoBqrwFiA");'></div>
                  <div>
                    <p class="text-[#181411] text-base font-medium leading-normal">Expert Coffee Classes</p>
                    <p class="text-[#897461] text-sm font-normal leading-normal">Learn the art of coffee making from our experienced baristas in our hands-on classes.</p>
                  </div>
                </div>
              </div>
            </div>

            <h2 class="text-[#181411] text-[22px] font-bold leading-tight tracking-[-0.015em] px-4 pb-3 pt-5">Special Coffee Bean Promotions</h2>
            <div class="p-4 @container">
              <div class="flex flex-col items-stretch justify-start rounded-lg @xl:flex-row @xl:items-start">
                <div class="w-full bg-center bg-no-repeat aspect-video bg-cover rounded-lg" style='background-image: url("https://lh3.googleusercontent.com/aida-public/AB6AXuDIL8V9_dQQ8rZomS7WCp5JFFNduYjq6aumIXMRgixlLxpkp48quajiHX0CH6op1VG8_UR7sxxLSZhj3IAceOVrwLU49suJy97RSoGjR7V-JAuD_O5ofAaH5ucfbMF3Iz8WRq9iC4odRSvDof9XU5Nvog3JNLlGEc_UnjJtAnsFWhB7VsT9zj7MQazDER3kZoK5Pd8-JpJJnNoLxkdq5nqZc_AIc9CDZbO2agzk5Br6aNVL09lnlV-P8FixEc3E6kQyHdv-bdO0u3A");'></div>
                <div class="flex w-full min-w-72 grow flex-col items-stretch justify-center gap-1 py-4 @xl:px-4">
                  <p class="text-[#181411] text-lg font-bold leading-tight tracking-[-0.015em]">Limited Time Offer</p>
                  <div class="flex items-end gap-3 justify-between">
                    <p class="text-[#897461] text-base font-normal leading-normal">Get 20% off on our new single-origin coffee beans from Ethiopia. Experience the unique flavors and aromas.</p>
                    <a href="toko.html"
                      class="flex min-w-[84px] max-w-[480px] cursor-pointer items-center justify-center overflow-hidden rounded-lg h-8 px-4 bg-[#d46c11] text-white text-sm font-medium leading-normal"
                    >
                      <span class="truncate">Shop Now</span>
                    </a>
                  </div>
                </div>
              </div>
            </div>

            <h2 class="text-[#181411] text-[22px] font-bold leading-tight tracking-[-0.015em] px-4 pb-3 pt-5">Our Roastery</h2>
            <p class="text-[#181411] text-base font-normal leading-normal pb-3 pt-1 px-4 text-center">
              Our roastery is where the magic happens. We carefully select and roast our beans to bring out their best qualities, ensuring a rich and flavorful cup every time. Visit us to learn more about our process and passion for coffee.
            </p>

            <div class="@container">
              <div class="flex flex-col justify-end gap-6 px-4 py-10 @[480px]:gap-8 @[480px]:px-10 @[480px]:py-20">
                <div class="flex flex-col gap-2 text-center">
                  <h1 class="text-[#181411] tracking-light text-[32px] font-bold leading-tight @[480px]:text-4xl @[480px]:font-black @[480px]:leading-tight @[480px]:tracking-[-0.033em] max-w-[720px]">
                    Explore Our Coffee Beans
                  </h1>
                </div>
                <div class="flex flex-1 justify-center">
                  <div class="flex justify-center">
                    <a href="toko.html"
                      class="flex min-w-[84px] max-w-[480px] cursor-pointer items-center justify-center overflow-hidden rounded-lg h-10 px-4 @[480px]:h-12 @[480px]:px-5 bg-[#d46c11] text-white text-sm font-bold leading-normal tracking-[0.015em] @[480px]:text-base @[480px]:font-bold @[480px]:leading-normal @[480px]:tracking-[0.015em] grow"
                    >
                      <span class="truncate">View All Beans</span>
                    </a>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </main>

        <footer class="flex justify-center">
          <div class="flex max-w-[960px] flex-1 flex-col">
            <footer class="flex flex-col gap-6 px-5 py-10 text-center @container">
              <div class="flex flex-wrap items-center justify-center gap-6 @[480px]:flex-row @[480px]:justify-around">
                <a class="text-[#897461] text-base font-normal leading-normal min-w-40" href="#">Contact Us</a>
                <a class="text-[#897461] text-base font-normal leading-normal min-w-40" href="#">FAQ</a>
                <a class="text-[#897461] text-base font-normal leading-normal min-w-40" href="#">Privacy Policy</a>
                <a class="text-[#897461] text-base font-normal leading-normal min-w-40" href="#">Terms of Service</a>
              </div>
              <div class="flex flex-wrap justify-center gap-4">
                <a href="#">
                  <div class="text-[#897461]" data-icon="InstagramLogo" data-size="24px" data-weight="regular">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24px" height="24px" fill="currentColor" viewBox="0 0 256 256">
                      <path d="M128,80a48,48,0,1,0,48,48A48.05,48.05,0,0,0,128,80Zm0,80a32,32,0,1,1,32-32A32,32,0,0,1,128,160ZM176,24H80A56.06,56.06,0,0,0,24,80v96a56.06,56.06,0,0,0,56,56h96a56.06,56.06,0,0,0,56-56V80A56.06,56.06,0,0,0,176,24Zm40,152a40,40,0,0,1-40,40H80a40,40,0,0,1-40-40V80A40,40,0,0,1,80,40h96a40,40,0,0,1,40,40ZM192,76a12,12,0,1,1-12-12A12,12,0,0,1,192,76Z"></path>
                    </svg>
                  </div>
                </a>
                <a href="#">
                  <div class="text-[#897461]" data-icon="TwitterLogo" data-size="24px" data-weight="regular">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24px" height="24px" fill="currentColor" viewBox="0 0 256 256">
                      <path d="M247.39,68.94A8,8,0,0,0,240,64H209.57A48.66,48.66,0,0,0,168.1,40a46.91,46.91,0,0,0-33.75,13.7A47.9,47.9,0,0,0,120,88v6.09C79.74,83.47,46.81,50.72,46.46,50.37a8,8,0,0,0-13.65,4.92c-4.31,47.79,9.57,79.77,22,98.18a110.93,110.93,0,0,0,21.88,24.2c-15.23,17.53-39.21,26.74-39.47,26.84a8,8,0,0,0-3.85,11.93c.75,1.12,3.75,5.05,11.08,8.72C53.51,229.7,65.48,232,80,232c70.67,0,129.72-54.42,135.75-124.44l29.91-29.9A8,8,0,0,0,247.39,68.94Zm-45,29.41a8,8,0,0,0-2.32,5.14C196,166.58,143.28,216,80,216c-10.56,0-18-1.4-23.22-3.08,11.51-6.25,27.56-17,37.88-32.48A8,8,0,0,0,92,169.08c-.47-.27-43.91-26.34-44-96,16,13,45.25,33.17,78.67,38.79A8,8,0,0,0,136,104V88a32,32,0,0,1,9.6-22.92A30.94,30.94,0,0,1,167.9,56c12.66.16,24.49,7.88,29.44,19.21A8,8,0,0,0,204.67,80h16Z"></path>
                    </svg>
                  </div>
                </a>
                <a href="#">
                  <div class="text-[#897461]" data-icon="FacebookLogo" data-size="24px" data-weight="regular">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24px" height="24px" fill="currentColor" viewBox="0 0 256 256">
                      <path d="M128,24A104,104,0,1,0,232,128,104.11,104.11,0,0,0,128,24Zm8,191.63V152h24a8,8,0,0,0,0-16H136V112a16,16,0,0,1,16-16h16a8,8,0,0,0,0-16H152a32,32,0,0,0-32,32v24H96a8,8,0,0,0,0,16h24v63.63a88,88,0,1,1,16,0Z"></path>
                    </svg>
                  </div>
                </a>
              </div>
              <p class="text-[#897461] text-base font-normal leading-normal">@2024 Coffee Culture. All rights reserved.</p>
            </footer>
          </div>
        </footer>
        
      </div>
    </div>
    <script>
      const token = localStorage.getItem('token');

      // ================================
      // CEK AUTH
      // ================================
      if (!token) {
        window.location.href = 'login.html';
      }

      async function fetchProfile() {
        try {
          const response = await fetch('http://172.16.99.70:8001/api/profile', {
            method: 'GET',
            headers: {
              'Authorization': 'Bearer ' + token,
              'Accept': 'application/json'
            }
          });

          if (!response.ok) {
            throw new Error('Unauthorized');
          }

          const result = await response.json();
          const profile = result.data;

          // ================================
          // TAMPILKAN DATA USER
          // ================================
          document.getElementById('profileName').textContent = profile.name;

          // Jika backend punya avatar_url
          if (profile.avatar_url) {
            document.getElementById('profileAvatar').src = profile.avatar_url;
          }

        } catch (error) {
          console.error(error);
          localStorage.removeItem('token');
          window.location.href = 'login.html';
        }
      }

      fetchProfile();

      // ================================
      // LOGOUT
      // ================================
      document.getElementById('logoutButton').addEventListener('click', async () => {
        try {
          await fetch('http://172.16.99.70:8001/api/logout', {
            method: 'POST',
            headers: {
              'Authorization': 'Bearer ' + token,
              'Accept': 'application/json'
            }
          });
        } catch (e) {
          // ignore error
        }

        localStorage.removeItem('token');
        window.location.href = 'login.html';
      });
    </script>

  </body>
</html>